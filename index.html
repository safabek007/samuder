<!-- ===== FILE: index.html (rebuilt) ===== -->
<!DOCTYPE html>
<html lang="tr" dir="ltr" data-theme="dark">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title data-i18n="site_title">SAMUDER</title>
  <meta name="description" content="SAMUDER - Samsun UluslararasÄ± Ã–ÄŸrenci DerneÄŸi Resmi Web Sitesi" data-i18n-meta="meta_description" />
  <meta name="theme-color" content="#0b1220" />
  <link rel="icon" href="/favicon.ico" />
  <link rel="apple-touch-icon" href="/apple-touch-icon.png" />
  <link rel="manifest" href="/site.webmanifest" />
  <link rel="canonical" href="https://samuder.org/" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="SAMUDER" />
  <meta property="og:description" content="Samsun UluslararasÄ± Ã–ÄŸrenci DerneÄŸi" />
  <meta property="og:image" content="/og-image.jpg" />
  <meta property="og:url" content="https://samuder.org/" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="SAMUDER" />
  <meta name="twitter:description" content="Samsun UluslararasÄ± Ã–ÄŸrenci DerneÄŸi" />
  <meta name="twitter:image" content="/og-image.jpg" />
  <style>
    /* ===== THEME ===== */
    :root{ --bg1:#0b1220; --bg2:#0a1326; --glass:#0f1626; --line:rgba(148,163,184,.25); --muted:#9bb3d3; --border:rgba(255,255,255,.08); --pri1:#3b82f6; --pri2:#60a5fa; --pri3:#93c5fd; --acc1:#22c55e; --text:#e8f0ff; --text-dim:#c8d6ef; --radius:16px; --shadow:0 10px 30px rgba(0,0,0,.45)}
    html[data-theme="light"]{ --bg1:#f5f7fb; --bg2:#eef2f9; --glass:#ffffff; --line:#e6edf7; --muted:#5a6d8a; --border:#dfe6f1; --shadow:0 8px 24px rgba(10,20,40,.12); --pri1:#2563eb; --pri2:#3b82f6; --pri3:#60a5fa; --text:#0b1220; --text-dim:#2b3a55 }

    *{box-sizing:border-box}
    html,body{margin:0;padding:0;font-family:'Segoe UI',system-ui,-apple-system,Arial,Helvetica,sans-serif;color:var(--text);background:linear-gradient(160deg,var(--bg1),var(--bg2)) fixed;scroll-behavior:smooth}
    a{color:inherit}
    img{max-width:100%;display:block}
    section[hidden]{display:none !important}
    .container{max-width:1200px;margin:0 auto;padding:0 16px}
    .sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}

    /* ===== HEADER ===== */
    .skip{position:absolute;left:-9999px;top:auto}
    .skip:focus{left:16px;top:16px;z-index:10000;background:#fff;color:#111;padding:10px 14px;border-radius:10px}
    header{position:sticky;top:0;z-index:60;background:linear-gradient(180deg,rgba(18,26,43,.94),rgba(18,26,43,.78));backdrop-filter:blur(8px) saturate(140%);border-bottom:1px solid rgba(255,255,255,.06)}
    html[data-theme="light"] header{background:linear-gradient(180deg,rgba(255,255,255,.92),rgba(255,255,255,.78));border-bottom:1px solid var(--border)}
    .head-wrap{display:grid;grid-template-columns:auto 1fr auto;align-items:center;padding:10px 0;gap:10px}
    .brand{justify-self:start;display:flex;align-items:center;gap:12px}
    .brand img{height:62px;filter:drop-shadow(0 6px 14px rgba(59,130,246,.35))}
    .brand h1{display:none}
    .right-controls{justify-self:end;display:flex;align-items:center;gap:8px}
    .icon-btn{display:inline-flex;align-items:center;justify-content:center;width:42px;height:42px;border-radius:10px;border:1px solid var(--border);background:linear-gradient(180deg,rgba(255,255,255,.06),rgba(255,255,255,.02));box-shadow:0 6px 16px rgba(0,0,0,.25);cursor:pointer}
    .icon-btn:focus{outline:2px solid var(--pri2)}
    select{color:var(--text);background:linear-gradient(180deg,rgba(255,255,255,.06),rgba(255,255,255,.02));border:1px solid var(--border);border-radius:10px;padding:8px 10px;font-weight:600}

    /* ===== HERO ===== */
    .hero{margin-top:16px;border-radius:20px;background:radial-gradient(900px 300px at 10% -10%,rgba(59,130,246,.25),transparent 60%),radial-gradient(700px 250px at 90% -20%,rgba(34,197,94,.2),transparent 60%),linear-gradient(180deg,rgba(255,255,255,.05),rgba(255,255,255,.02));border:1px solid rgba(255,255,255,.07);box-shadow:var(--shadow);padding:28px}
    .hero h2{margin:0 0 8px 0}

    /* ===== GLASS PANELS ===== */
    .glass{margin-top:22px;border-radius:18px;background:linear-gradient(180deg,rgba(255,255,255,.04),rgba(255,255,255,.02));border:1px solid var(--border);box-shadow:var(--shadow);padding:18px}

    /* ===== TIMELINE (modern, not card grid) ===== */
    .timeline{position:relative;list-style:none;margin:8px 0 0 0;padding:0}
    .timeline:before{content:"";position:absolute;left:26px;top:0;bottom:0;width:2px;background:linear-gradient(var(--pri1),var(--pri2));opacity:.45}
    .tl-item{position:relative;padding:8px 0 8px 72px}
    .tl-date{position:absolute;left:-2px;top:8px;width:60px;text-align:center;font-size:.78rem;color:var(--muted)}
    .tl-dot{position:absolute;left:18px;top:14px;width:16px;height:16px;border-radius:50%;background:linear-gradient(135deg,var(--pri1),var(--pri2));box-shadow:0 2px 8px rgba(59,130,246,.6)}
    .tl-box{background:var(--glass);border:1px solid var(--border);border-radius:14px;padding:14px;display:grid;grid-template-columns:1fr auto;gap:12px}
    .tl-title{margin:0;font-size:1.05rem}
    .tl-text{margin:.25rem 0 0 0;color:var(--text-dim)}
    .tl-thumb{width:160px;aspect-ratio:16/10;object-fit:cover;border-radius:10px;border:1px solid var(--border)}
    .tl-actions{display:flex;gap:8px;align-items:center}

    /* Mini timeline (home) */
    .timeline.mini:before{left:20px}
    .timeline.mini .tl-item{padding-left:56px}
    .timeline.mini .tl-date{width:52px;left:-8px}

    /* ===== PAGINATION ===== */
    .pager{display:flex;gap:8px;align-items:center;justify-content:center;margin-top:14px}
    .pager button{padding:8px 12px;border:1px solid var(--border);background:var(--glass);color:var(--text);border-radius:10px;cursor:pointer}
    .pager button[disabled]{opacity:.5;cursor:not-allowed}

    /* ===== LIGHTBOX ===== */
    .lightbox{position:fixed;inset:0;background:rgba(0,0,0,.88);display:none;align-items:center;justify-content:center;z-index:90}
    .lightbox.open{display:flex}
    .lightbox-inner{max-width:min(96vw,1100px);max-height:90vh;background:#000;border-radius:12px;overflow:hidden;border:1px solid #333;display:grid;grid-template-rows:auto 1fr auto}
    .lightbox-toolbar{display:flex;align-items:center;justify-content:space-between;padding:8px 10px;background:rgba(0,0,0,.6);color:#fff}
    .lightbox-body{background:#000;display:flex;align-items:center;justify-content:center}
    .lightbox-body img{max-width:100%;max-height:80vh}
    .lightbox-actions{display:flex;gap:8px;padding:8px;background:rgba(0,0,0,.6)}
    .btn{display:inline-flex;align-items:center;gap:8px;border:1px solid #444;background:#111;color:#fff;border-radius:10px;padding:8px 12px;text-decoration:none}

    /* ===== UTILS ===== */
    .empty{display:grid;place-items:center;padding:24px;border:1px dashed var(--border);border-radius:12px;color:var(--muted)}
    main{padding:22px 0 64px}
    @media (max-width:720px){ .brand img{height:56px} .right-controls{gap:6px} .tl-thumb{display:none} }
  </style>
  <style id="preview-banner-style">.preview-banner{position:fixed;left:0;right:0;bottom:0;z-index:80;background:#0ea5e9;color:#001018;padding:10px 14px;display:none;align-items:center;justify-content:center;gap:10px;font-weight:700;border-top:2px solid rgba(0,0,0,.2)} .preview-banner button{border:1px solid rgba(0,0,0,.2);background:#e0f2fe;border-radius:8px;padding:6px 10px;cursor:pointer}</style>
</head>
<body>
  <a class="skip" href="#main">Ä°Ã§eriÄŸe geÃ§</a>
  <header role="banner">
    <div class="container head-wrap">
      <div class="brand">
        <a href="#/home" data-route="home" aria-label="Ana sayfa"><img src="logo.png" alt="SAMUDER Logo" /></a>
        <h1 data-i18n="site_title" class="sr-only">SAMUDER</h1>
      </div>
      <div></div>
      <div class="right-controls">
        <label for="lang" class="sr-only" data-i18n="language">Dil</label>
        <select id="lang" aria-label="Dil seÃ§imi" onchange="setLanguage(this.value)">
          <option value="tr">TÃ¼rkÃ§e</option>
          <option value="en">English</option>
          <option value="ar">Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</option>
          <option value="fa">ÙØ§Ø±Ø³ÛŒ</option>
          <option value="ru">Ğ ÑƒÑÑĞºĞ¸Ğ¹</option>
        </select>
        <button id="themeToggle" class="icon-btn" aria-pressed="false" aria-label="Tema">ğŸŒ™</button>
        <button id="menuToggle" class="icon-btn" aria-expanded="false" aria-controls="menuPanel" aria-label="MenÃ¼yÃ¼ aÃ§">â˜°</button>
      </div>
    </div>
  </header>

  <!-- Off-canvas menu -->
  <aside id="menuPanel" class="menu-panel" role="dialog" aria-modal="true" aria-label="MenÃ¼" style="position:fixed;top:0;right:-340px;width:320px;height:100dvh;background:var(--glass);color:var(--text);box-shadow:-10px 0 30px rgba(0,0,0,.45);border-left:1px solid var(--border);transition:right .25s ease;z-index:70;display:flex;flex-direction:column">
    <div class="menu-head" style="display:flex;align-items:center;justify-content:space-between;padding:14px;border-bottom:1px solid var(--border)"><strong data-i18n="menu">MenÃ¼</strong><button id="menuClose" class="icon-btn" aria-label="Kapat">âœ•</button></div>
    <nav class="menu-links" role="navigation" aria-label="Sayfalar" style="display:grid;gap:8px;padding:14px">
      <a class="navlink" data-route="home" href="#/home" data-i18n="home" style="text-decoration:none;font-weight:600;padding:12px 14px;border-radius:10px;background:linear-gradient(180deg,rgba(255,255,255,.05),rgba(255,255,255,.03));border:1px solid var(--border)">Ana Sayfa</a>
      <a class="navlink" data-route="about" href="#/about" data-i18n="about" style="text-decoration:none;font-weight:600;padding:12px 14px;border-radius:10px;background:linear-gradient(180deg,rgba(255,255,255,.05),rgba(255,255,255,.03));border:1px solid var(--border)">HakkÄ±mÄ±zda</a>
      <a class="navlink" data-route="calendar" href="#/calendar" data-i18n="calendar" style="text-decoration:none;font-weight:600;padding:12px 14px;border-radius:10px;background:linear-gradient(180deg,rgba(255,255,255,.05),rgba(255,255,255,.03));border:1px solid var(--border)">Etkinlik Takvimi</a>
      <a class="navlink" data-route="news" href="#/news" data-i18n="news" style="text-decoration:none;font-weight:600;padding:12px 14px;border-radius:10px;background:linear-gradient(180deg,rgba(255,255,255,.05),rgba(255,255,255,.03));border:1px solid var(--border)">Haberler/Duyurular</a>
      <a class="navlink" data-route="activities" href="#/activities" data-i18n="activities" style="text-decoration:none;font-weight:600;padding:12px 14px;border-radius:10px;background:linear-gradient(180deg,rgba(255,255,255,.05),rgba(255,255,255,.03));border:1px solid var(--border)">Faaliyetler</a>
      <a class="navlink" data-route="donation" href="#/donation" data-i18n="donation" style="text-decoration:none;font-weight:600;padding:12px 14px;border-radius:10px;background:linear-gradient(180deg,rgba(255,255,255,.05),rgba(255,255,255,.03));border:1px solid var(--border)">BaÄŸÄ±ÅŸ</a>
      <a class="navlink" data-route="gallery" href="#/gallery" data-i18n="gallery" style="text-decoration:none;font-weight:600;padding:12px 14px;border-radius:10px;background:linear-gradient(180deg,rgba(255,255,255,.05),rgba(255,255,255,.03));border:1px solid var(--border)">Galeri</a>
      <a class="navlink" data-route="contact" href="#/contact" data-i18n="contact" style="text-decoration:none;font-weight:600;padding:12px 14px;border-radius:10px;background:linear-gradient(180deg,rgba(255,255,255,.05),rgba(255,255,255,.03));border:1px solid var(--border)">Ä°letiÅŸim</a>
      <a class="navlink" href="https://udef.org.tr/obs/ogrenci-girisi" target="_blank" rel="noopener" data-i18n="join" style="text-decoration:none;font-weight:700;padding:12px 14px;border-radius:10px;background:linear-gradient(90deg,var(--pri1),var(--pri2));color:#fff;border:1px solid rgba(255,255,255,.12);text-align:center">UDEF Ãœyelik</a>
    </nav>
  </aside>

  <main id="main" class="container" role="main">
    <!-- HOME -->
    <section class="hero" aria-labelledby="home-hero-title" data-page="home">
      <h2 id="home-hero-title" data-i18n="hero_title">Samsun UluslararasÄ± Ã–ÄŸrenci DerneÄŸi</h2>
      <p data-i18n="hero_sub">KÃ¼ltÃ¼rel uyum, dayanÄ±ÅŸma ve geliÅŸim iÃ§in Ã¶ÄŸrencilerin buluÅŸma noktasÄ±.</p>
    </section>

    <section id="home-news" class="glass" aria-labelledby="home-news-title" data-page="home">
      <h2 id="home-news-title" data-i18n="news">Haberler/Duyurular</h2>
      <ul id="homeNewsList" class="timeline mini"></ul>
      <div id="homeNewsEmpty" class="empty" hidden>HenÃ¼z haber/duyuru yok. <a href="/admin/" style="margin-left:6px;text-decoration:underline">Admin</a> Ã¼zerinden ekleyin.</div>
    </section>

    <section id="home-contact" class="glass" aria-labelledby="home-contact-title" data-page="home">
      <h2 id="home-contact-title" data-i18n="contact">Ä°letiÅŸim</h2>
      <div id="homeContactWrap" style="display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:14px;margin-top:8px;"></div>
    </section>

    <!-- ABOUT -->
    <section class="hero" aria-labelledby="hero-title" data-page="about" hidden>
      <h2 id="hero-title" data-i18n="hero_title">Samsun UluslararasÄ± Ã–ÄŸrenci DerneÄŸi</h2>
      <p data-i18n="hero_sub">KÃ¼ltÃ¼rel uyum, dayanÄ±ÅŸma ve geliÅŸim iÃ§in Ã¶ÄŸrencilerin buluÅŸma noktasÄ±.</p>
    </section>
    <section id="about" class="glass" aria-labelledby="about-title" data-page="about" hidden>
      <h2 id="about-title" data-i18n="about">HakkÄ±mÄ±zda</h2>
      <div id="aboutContent"></div>
    </section>

    <!-- CALENDAR -->
    <section id="calendar" class="glass" aria-labelledby="calendar-title" data-page="calendar" hidden>
      <h2 id="calendar-title" data-i18n="calendar">Etkinlik Takvimi</h2>
      <form aria-label="Takvim filtresi" style="display:flex;gap:10px;flex-wrap:wrap;margin:10px 0 20px;">
        <label><span class="sr-only" data-i18n="search_label">Etkinlik ara</span>
          <input type="search" id="calSearch" placeholder="ArayÄ±n..." data-i18n-ph="search_ph" aria-label="Etkinlik ara" style="padding:10px;border:1px solid var(--border);border-radius:8px;min-width:240px;color:var(--text);background:var(--glass)" />
        </label>
        <label><span data-i18n="month">Ay</span>
          <select id="calMonth" style="padding:10px;border:1px solid var(--border);border-radius:8px;color:var(--text);background:var(--glass)">
            <option value="" data-i18n="all_months">TÃ¼m aylar</option>
            <option value="01">Ocak</option><option value="02">Åubat</option><option value="03">Mart</option><option value="04">Nisan</option><option value="05">MayÄ±s</option><option value="06">Haziran</option><option value="07">Temmuz</option><option value="08">AÄŸustos</option><option value="09">EylÃ¼l</option><option value="10">Ekim</option><option value="11">KasÄ±m</option><option value="12">AralÄ±k</option>
          </select>
        </label>
      </form>
      <ul id="evList" class="timeline"></ul>
      <div id="evEmpty" class="empty" hidden>HenÃ¼z etkinlik yok. <a href="/admin/" style="margin-left:6px;text-decoration:underline">Admin</a> Ã¼zerinden ekleyin.</div>
      <div id="evPager" class="pager"></div>
    </section>

    <!-- NEWS -->
    <section id="news" class="glass" aria-labelledby="news-title" data-page="news" hidden>
      <h2 id="news-title" data-i18n="news">Haberler/Duyurular</h2>
      <form aria-label="Haber arama" style="display:flex;gap:10px;flex-wrap:wrap;margin:10px 0 20px;">
        <label><span class="sr-only">Ara</span>
          <input type="search" id="newsSearch" placeholder="ArayÄ±n..." data-i18n-ph="search_ph" aria-label="Haber ara" style="padding:10px;border:1px solid var(--border);border-radius:8px;min-width:240px;color:var(--text);background:var(--glass)" />
        </label>
      </form>
      <ul id="newsList" class="timeline"></ul>
      <div id="newsEmpty" class="empty" hidden>HenÃ¼z haber/duyuru yok. <a href="/admin/" style="margin-left:6px;text-decoration:underline">Admin</a> Ã¼zerinden ekleyin.</div>
      <div id="newsPager" class="pager"></div>
    </section>

    <!-- ACTIVITIES -->
    <section id="activities" class="glass" aria-labelledby="activities-title" data-page="activities" hidden>
      <h2 id="activities-title" data-i18n="activities">Faaliyetler</h2>
      <div id="activitiesContent"></div>
    </section>

    <!-- DONATION -->
    <section id="donation" class="glass" aria-labelledby="donation-title" data-page="donation" hidden>
      <h2 id="donation-title" data-i18n="donation">BaÄŸÄ±ÅŸ</h2>
      <div id="donationWrap" style="display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:14px;margin-top:14px;align-items:start;"></div>
    </section>

    <!-- GALLERY -->
    <section id="gallery" class="glass" aria-labelledby="gallery-title" data-page="gallery" hidden>
      <h2 id="gallery-title" data-i18n="gallery">Galeri</h2>
      <p data-i18n="gallery_intro">Etkinliklerimizden bazÄ± kareler.</p>
      <div id="galleryGrid" style="columns: 3 220px; column-gap: 12px;">
        <!-- renderGallery -> masonry (CSS columns) -->
      </div>
      <div id="galleryEmpty" class="empty" hidden>HenÃ¼z fotoÄŸraf yok. <a href="/admin/" style="margin-left:6px;text-decoration:underline">Admin</a> Ã¼zerinden ekleyin.</div>
    </section>

    <!-- CONTACT -->
    <section id="contact" class="glass" aria-labelledby="contact-title" data-page="contact" hidden>
      <h2 id="contact-title" data-i18n="contact">Ä°letiÅŸim</h2>
      <div id="contactWrap" style="display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:14px;margin-top:8px;"></div>
    </section>
  </main>

  <footer class="container" style="margin:24px 0;color:var(--muted)" role="contentinfo">
    <p>&copy; <span id="year"></span> <span data-i18n="site_title">SAMUDER</span></p>
  </footer>

  <!-- LIGHTBOX -->
  <div id="lightbox" class="lightbox" role="dialog" aria-modal="true" aria-label="GÃ¶rÃ¼ntÃ¼leyici">
    <div class="lightbox-inner">
      <div class="lightbox-toolbar">
        <span id="lbCaption">&nbsp;</span>
        <button id="lbClose" class="btn" data-i18n="close">Kapat</button>
      </div>
      <div class="lightbox-body"><img id="lbImg" src="" alt="" /></div>
      <div class="lightbox-actions"><a id="lbDownload" class="btn" href="#" download target="_blank" rel="noopener" data-i18n="download">Ä°ndir</a></div>
    </div>
  </div>

  <script>
    // ====== I18N (kÄ±sa - TR & EN; diÄŸer diller eksik alanlarda TR'ye dÃ¼ÅŸer) ======
    const I18N = {
      tr:{site_title:"SAMUDER",meta_description:"SAMUDER - Samsun UluslararasÄ± Ã–ÄŸrenci DerneÄŸi Resmi Web Sitesi",home:"Ana Sayfa",about:"HakkÄ±mÄ±zda",calendar:"Etkinlik Takvimi",news:"Haberler/Duyurular",activities:"Faaliyetler",donation:"BaÄŸÄ±ÅŸ",gallery:"Galeri",contact:"Ä°letiÅŸim",menu:"MenÃ¼",join:"UDEF Ãœyelik",language:"Dil",hero_title:"Samsun UluslararasÄ± Ã–ÄŸrenci DerneÄŸi",hero_sub:"KÃ¼ltÃ¼rel uyum, dayanÄ±ÅŸma ve geliÅŸim iÃ§in Ã¶ÄŸrencilerin buluÅŸma noktasÄ±.",date:"Tarih",close:"Kapat",download:"Ä°ndir",dark_mode:"KaranlÄ±k mod",light_mode:"AydÄ±nlÄ±k mod",month:"Ay",all_months:"TÃ¼m aylar",search_label:"Etkinlik ara",search_ph:"ArayÄ±n...",gallery_intro:"Etkinliklerimizden bazÄ± kareler.",contact_info_title:"Ä°letiÅŸim Bilgileri",addr_label:"Adres",phone_label:"Telefon",mail_label:"E-posta",social_title:"Sosyal Medya",donation_choose_title:"BaÄŸÄ±ÅŸ AmacÄ± ve TutarÄ±",donation_purpose:"BaÄŸÄ±ÅŸ amacÄ±",donation_amount:"BaÄŸÄ±ÅŸ tutarÄ±",donation_custom_ph:"Ã–zel tutar (â‚º)",donate_via_udef:"UDEF Ãœzerinden BaÄŸÄ±ÅŸ",copy_iban_btn:"IBANâ€™Ä± Kopyala",iban_title:"IBAN Bilgileri",iban_holder_label:"Hesap Sahibi",iban_bank_label:"Banka",qr_caption:"Mobil bankacÄ±lÄ±kla QR okutabilirsiniz.",iban_copied:"IBAN kopyalandÄ±.",iban_copy_fail:"KopyalanamadÄ±."},
      en:{site_title:"SAMUDER",meta_description:"SAMUDER - Official website of Samsun International Student Association",home:"Home",about:"About",calendar:"Events Calendar",news:"News/Announcements",activities:"Activities",donation:"Donations",gallery:"Gallery",contact:"Contact",menu:"Menu",join:"UDEF Membership",language:"Language",hero_title:"Samsun International Student Association",hero_sub:"A hub for cultural harmony, solidarity and growth.",date:"Date",close:"Close",download:"Download",dark_mode:"Dark mode",light_mode:"Light mode",month:"Month",all_months:"All months",search_label:"Search events",search_ph:"Search...",gallery_intro:"Some snapshots from our activities.",contact_info_title:"Contact Information",addr_label:"Address",phone_label:"Phone",mail_label:"Email",social_title:"Social Media",donation_choose_title:"Donation Purpose & Amount",donation_purpose:"Purpose",donation_amount:"Amount",donation_custom_ph:"Custom amount (â‚º)",donate_via_udef:"Donate via UDEF",copy_iban_btn:"Copy IBAN",iban_title:"IBAN Details",iban_holder_label:"Account Holder",iban_bank_label:"Bank",qr_caption:"Scan this QR via mobile banking.",iban_copied:"IBAN copied.",iban_copy_fail:"Copy failed."},
      ar:{site_title:"Ø³Ø§Ù…ÙˆØ¯Ø±"}, fa:{site_title:"Ø³Ø§Ù…ÙˆØ¯Ø±"}, ru:{site_title:"Ğ¡ĞĞœĞ£Ğ”Ğ•Ğ "}
    };

    // ====== STATE ======
    const STATE = { news:[], events:[], gallery:[], donation:null, contact:null, about:null, activities:null };
    const PAGE_SIZE = 10;

    async function fetchJSON(path){
      // Taslak Ã¶nizleme: localStorage'tan yÃ¼kle
      try{
        const isPreview = new URLSearchParams(location.search).get('preview')==='1' || localStorage.getItem('samuder_preview_mode')==='1';
        if(isPreview){
          const overrideMap = JSON.parse(localStorage.getItem('samuder_preview_payload')||'{}');
          if(overrideMap && overrideMap[path]) return overrideMap[path];
        }
      }catch{ /* noop */ }
      try{ const res = await fetch(path,{cache:'no-store'}); if(!res.ok) throw new Error(res.statusText); return await res.json(); }
      catch(e){ console.warn('JSON yÃ¼klenemedi:', path, e); return null; }
    }

    async function loadAllContent(){
      const [news,events,gallery,donation,contact,about,activities] = await Promise.all([
        fetchJSON('/content/news.json'),
        fetchJSON('/content/events.json'),
        fetchJSON('/content/gallery.json'),
        fetchJSON('/content/donation.json'),
        fetchJSON('/content/contact.json'),
        fetchJSON('/content/about.json'),
        fetchJSON('/content/activities.json')
      ]);
      STATE.news = news?.items||[];
      STATE.events = events?.items||[];
      STATE.gallery = gallery?.items||[];
      STATE.donation = donation||null;
      STATE.contact = contact||null;
      STATE.about = about||null;
      STATE.activities = activities||null;
    }

    function tField(obj, base){ const lang=document.documentElement.lang||'tr'; const key=`${base}_${lang}`; return obj[key] || obj[base+'_tr'] || ''; }
    function escapeHtml(s){ return (s||'').replace(/[&<>"']/g, m=>({"&":"&amp;","<":"&lt;",">":"&gt;","\"":"&quot;","'":"&#39;"}[m])); }
    function formatDate(iso){ if(!iso) return ''; try{ const d=new Date(iso); return d.toLocaleDateString(document.documentElement.lang||'tr'); }catch{ return iso; } }

    // ====== TEMPLATES (timeline items) ======
    function tlNews(item){ const title=tField(item,'title'); const body=tField(item,'body'); const date=item.date||''; const img=item.image; return `
      <li class="tl-item">
        <span class="tl-date">${formatDate(date)}</span>
        <span class="tl-dot" aria-hidden="true"></span>
        <div class="tl-box">
          <div>
            <h3 class="tl-title">${escapeHtml(title)}</h3>
            <p class="tl-text">${escapeHtml(body)}</p>
          </div>
          ${img?`<img class="tl-thumb" src="${img}" alt="${escapeHtml(title)}">`:''}
        </div>
      </li>`; }

    function tlEvent(item){ const title=tField(item,'title'); const body=tField(item,'body'); const date=item.date||''; const img=item.image; return `
      <li class="tl-item">
        <span class="tl-date">${formatDate(date)}</span>
        <span class="tl-dot" aria-hidden="true"></span>
        <div class="tl-box">
          <div>
            <h3 class="tl-title">${escapeHtml(title)}</h3>
            <p class="tl-text">${escapeHtml(body)}</p>
          </div>
          ${img?`<img class="tl-thumb" src="${img}" alt="${escapeHtml(title)}">`:''}
        </div>
      </li>`; }

    // ====== RENDER & PAGINATION ======
    function pagerHTML(page,pages,cb){ return `
      <button ${page<=1?'disabled':''} onclick="${cb}(1)">Â«</button>
      <button ${page<=1?'disabled':''} onclick="${cb}(${page-1})">â€¹</button>
      <span>${page}/${pages}</span>
      <button ${page>=pages?'disabled':''} onclick="${cb}(${page+1})">â€º</button>
      <button ${page>=pages?'disabled':''} onclick="${cb}(${pages})">Â»</button>`; }

    function renderHomeNews(){ const wrap=document.getElementById('homeNewsList'); const empty=document.getElementById('homeNewsEmpty'); if(!wrap) return; const list=[...STATE.news].sort((a,b)=>(b.date||'').localeCompare(a.date||'')); const items=list.slice(0,3); wrap.innerHTML = items.map(tlNews).join(''); empty.hidden = items.length>0; }

    function renderNews(page=1){ const wrap=document.getElementById('newsList'); const pager=document.getElementById('newsPager'); const empty=document.getElementById('newsEmpty'); if(!wrap||!pager) return; const q=(document.getElementById('newsSearch')?.value||'').toLowerCase(); let list=[...STATE.news]; if(q) list=list.filter(it=> JSON.stringify(it).toLowerCase().includes(q)); list.sort((a,b)=> (b.date||'').localeCompare(a.date||'')); const total=list.length; const pages=Math.max(1, Math.ceil(total/PAGE_SIZE)); page=Math.min(pages, Math.max(1,page)); const start=(page-1)*PAGE_SIZE; const pageItems=list.slice(start,start+PAGE_SIZE); wrap.innerHTML = pageItems.map(tlNews).join(''); pager.innerHTML = pagerHTML(page,pages,'renderNews'); empty.hidden = total>0; }

    function renderEvents(page=1){ const wrap=document.getElementById('evList'); const pager=document.getElementById('evPager'); const empty=document.getElementById('evEmpty'); if(!wrap||!pager) return; const q=(document.getElementById('calSearch')?.value||'').toLowerCase(); const m=(document.getElementById('calMonth')?.value||''); let list=[...STATE.events].filter(it=>{ const okQ=!q || JSON.stringify(it).toLowerCase().includes(q); const mm=(it.date||'').slice(5,7); const okM=!m || mm===m; return okQ && okM; }); list.sort((a,b)=> (b.date||'').localeCompare(a.date||'')); const total=list.length; const pages=Math.max(1, Math.ceil(total/PAGE_SIZE)); page=Math.min(pages, Math.max(1,page)); const start=(page-1)*PAGE_SIZE; const pageItems=list.slice(start,start+PAGE_SIZE); wrap.innerHTML = pageItems.map(tlEvent).join(''); pager.innerHTML = pagerHTML(page,pages,'renderEvents'); empty.hidden = total>0; }

    function renderGallery(){ const grid=document.getElementById('galleryGrid'); const empty=document.getElementById('galleryEmpty'); if(!grid) return; const items=STATE.gallery||[]; grid.innerHTML = items.map(g=>{ const cap=tField(g,'caption'); const src=g.src; return `<figure style="break-inside:avoid;margin:0 0 12px 0"><img class="zoomable" src="${src}" alt="${escapeHtml(cap)}" style="width:100%;border-radius:12px;border:1px solid var(--border)"><figcaption style="color:var(--muted);margin-top:6px">${escapeHtml(cap)}</figcaption></figure>`; }).join(''); empty.hidden = items.length>0; attachLightbox(); }

    function renderDonation(){ const wrap=document.getElementById('donationWrap'); if(!wrap||!STATE.donation) return; const d=STATE.donation; const left=`<div class="glass" style="margin:0;background:var(--glass)"><h3 style="margin-top:0" data-i18n="donation_choose_title">BaÄŸÄ±ÅŸ AmacÄ± ve TutarÄ±</h3><label style="display:block;margin:8px 0;"><span data-i18n="donation_purpose">BaÄŸÄ±ÅŸ amacÄ±</span><select id="donPurpose" style="width:100%;padding:10px;border:1px solid var(--border);border-radius:8px;margin-top:6px;color:var(--text);background:var(--glass)">${(d.purposes||[{value:'general',label_tr:'Genel faaliyet desteÄŸi'}]).map(p=>`<option value="${p.value}">${escapeHtml(tField(p,'label'))}</option>`).join('')}</select></label><div style="margin-top:10px;"><span data-i18n="donation_amount">BaÄŸÄ±ÅŸ tutarÄ±</span><div style="display:flex;flex-wrap:wrap;gap:8px;margin-top:8px;">${(d.quickAmounts||[100,250,500,1000]).map(a=>`<button type="button" class="donAmt" data-amt="${a}" style="padding:8px 12px;border:1px solid var(--border);border-radius:8px;background:var(--glass);color:var(--text)">${a} â‚º</button>`).join('')}</div><label style="display:block;margin-top:10px;"><span class="sr-only">Ã–zel tutar</span><input id="donCustom" type="number" min="1" placeholder="Ã–zel tutar (â‚º)" data-i18n-ph="donation_custom_ph" style="width:100%;padding:10px;border:1px solid var(--border);border-radius:8px;color:var(--text);background:var(--glass)" /></label></div><div style="margin-top:14px;display:flex;gap:10px;flex-wrap:wrap;"><a class="navlink" href="${d.udef||'https://udef.org.tr/'}" target="_blank" rel="noopener" data-i18n="donate_via_udef" style="text-decoration:none;font-weight:700;padding:10px 14px;border-radius:10px;background:linear-gradient(90deg,var(--pri1),var(--pri2));color:#fff;border:1px solid rgba(255,255,255,.12)">UDEF Ãœzerinden BaÄŸÄ±ÅŸ</a><button type="button" id="copyIBAN" class="navlink" data-i18n="copy_iban_btn" style="padding:10px 14px;border-radius:10px;border:1px solid var(--border);background:var(--glass)">IBANâ€™Ä± Kopyala</button></div><p id="donHint" style="color:var(--muted);margin-top:10px"></p></div>`;
      const right=`<div class="glass" style="margin:0"><h3 style="margin-top:0" data-i18n="iban_title">IBAN Bilgileri</h3><p style="margin:6px 0"><strong data-i18n="iban_holder_label">Hesap Sahibi</strong>: <span id="ibanHolder">${escapeHtml(d.holder||'')}</span></p><p style="margin:6px 0"><strong data-i18n="iban_bank_label">Banka</strong>: <span id="ibanBank">${escapeHtml(d.bank||'')}</span></p><p style="margin:6px 0"><strong>IBAN</strong>: <code id="ibanVal" style="font-weight:700;">${escapeHtml(d.iban||'')}</code></p>${d.qr?`<figure style="margin:0;"><img src="${d.qr}" alt="BaÄŸÄ±ÅŸ iÃ§in QR" width="140" height="140" style="border-radius:8px;border:1px solid #334155" /><figcaption style="color:var(--muted);margin-top:6px" data-i18n="qr_caption">Mobil bankacÄ±lÄ±kla QR okutabilirsiniz.</figcaption></figure>`:''}</div>`;
      wrap.innerHTML = left + right; initCopyIBAN(); }

    function renderContact(){ const wrap=document.getElementById('contactWrap'); const homeWrap=document.getElementById('homeContactWrap'); if(!STATE.contact) return; const c=STATE.contact; const card1=`<div class=\"glass\" style=\"margin:0\"><h3 style=\"margin-top:0\" data-i18n=\"contact_info_title\">Ä°letiÅŸim Bilgileri</h3><p><strong data-i18n=\"addr_label\">Adres</strong>: <span>${escapeHtml(tField(c,'address'))}</span></p><p><strong data-i18n=\"phone_label\">Telefon</strong>: <a href=\"tel:${c.phoneRaw||''}\">${escapeHtml(c.phone||'')}</a></p><p><strong data-i18n=\"mail_label\">E-posta</strong>: <a href=\"mailto:${c.email||''}\">${escapeHtml(c.email||'')}</a></p></div>`; const card2=`<div class=\"glass\" style=\"margin:0\"><h3 style=\"margin-top:0\" data-i18n=\"social_title\">Sosyal Medya</h3><ul style=\"list-style:none;margin:0;padding:0;display:grid;gap:10px;\">${(c.socials||[]).map(s=>`<li><a href=\"${s.url}\" target=\"_blank\" rel=\"noopener\" aria-label=\"${escapeHtml(s.label)}\" style=\"display:flex;align-items:center;gap:10px;text-decoration:none;\"><img src=\"${s.icon}\" alt=\"\" width=\"28\" height=\"28\" style=\"border-radius:6px;\"><span>${escapeHtml(s.handle)}</span></a></li>`).join('')}</ul></div>`; if(wrap) wrap.innerHTML=card1+card2; if(homeWrap) homeWrap.innerHTML=card1+card2; }

    // ====== THEME / LANG / ROUTER ======
    const RTL=new Set(["ar","fa"]); const THEME_KEY='samuder_theme'; const DEFAULT_PAGE='home';
    function applyTranslations(lang){ document.querySelectorAll('[data-i18n]').forEach(el=>{ const key=el.getAttribute('data-i18n'); if(I18N[lang] && I18N[lang][key]) el.textContent = I18N[lang][key]; }); document.querySelectorAll('[data-i18n-ph]').forEach(el=>{ const key=el.getAttribute('data-i18n-ph'); if(I18N[lang] && I18N[lang][key]) el.setAttribute('placeholder', I18N[lang][key]); }); const meta=document.querySelector('meta[data-i18n-meta="meta_description"]'); if(meta && I18N[lang]?.meta_description){ meta.setAttribute('content', I18N[lang].meta_description); } if(I18N[lang]?.site_title) document.title=I18N[lang].site_title; document.documentElement.setAttribute('dir', RTL.has(lang)?'rtl':'ltr'); document.documentElement.setAttribute('lang', lang); }
    function setLanguage(lang){ localStorage.setItem('samuder_lang', lang); applyTranslations(lang); renderAll(); }
    function setTheme(theme){ document.documentElement.setAttribute('data-theme', theme); localStorage.setItem(THEME_KEY, theme); const btn=document.getElementById('themeToggle'); if(btn){ const lang=document.documentElement.lang||'tr'; btn.textContent=theme==='light'?'â˜€ï¸':'ğŸŒ™'; btn.setAttribute('aria-label', theme==='light'?(I18N[lang]?.light_mode||'Light'):(I18N[lang]?.dark_mode||'Dark')); } document.querySelector('meta[name="theme-color"]').setAttribute('content', theme==='light'?'#ffffff':'#0b1220'); }
    function toggleMenu(open){ const panel=document.getElementById('menuPanel'); const btn=document.getElementById('menuToggle'); if(!panel||!btn) return; const willOpen=(typeof open==='boolean')?open:panel.style.right!=='0px'; panel.style.right = willOpen? '0' : '-340px'; btn.setAttribute('aria-expanded', willOpen?'true':'false'); }
    function showPage(page){ document.querySelectorAll('[data-page]').forEach(sec=> sec.toggleAttribute('hidden', sec.getAttribute('data-page')!==page)); toggleMenu(false); const lang=document.documentElement.lang||'tr'; const titleKey=I18N[lang]?.[page]||page; document.title=`${I18N[lang]?.site_title||'SAMUDER'} â€“ ${titleKey}`; if(page==='news') renderNews(); if(page==='calendar') renderEvents(); }
    function navigate(page){ const cur=(location.hash.replace(/^#\//,'')||DEFAULT_PAGE).split('?')[0]; if(cur===page){ window.scrollTo({top:0,behavior:'smooth'}); return; } location.hash = `#/${page}`; }
    window.addEventListener('hashchange', ()=>{ const page=(location.hash.replace(/^#\//,'')||DEFAULT_PAGE).split('?')[0]; showPage(page); });

    // ====== LIGHTBOX ======
    function attachLightbox(){ const lb=document.getElementById('lightbox'); const lbImg=document.getElementById('lbImg'); const lbCap=document.getElementById('lbCaption'); const lbDl=document.getElementById('lbDownload'); document.querySelectorAll('.zoomable').forEach(img=>{ img.style.cursor='zoom-in'; img.addEventListener('click',()=>{ lbImg.src=img.src; lbImg.alt=img.alt||''; lbCap.textContent=img.nextElementSibling?.textContent||''; lbDl.href=img.src; lb.classList.add('open'); }); }); document.getElementById('lbClose')?.addEventListener('click', ()=> lb.classList.remove('open')); lb.addEventListener('click', (e)=>{ if(e.target===lb) lb.classList.remove('open'); }); window.addEventListener('keydown', (e)=>{ if(e.key==='Escape') lb.classList.remove('open'); }); }

    function initCopyIBAN(){ const copyBtn=document.getElementById('copyIBAN'); copyBtn?.addEventListener('click', async ()=>{ const iban=document.getElementById('ibanVal')?.textContent?.replace(/\s+/g,'')||''; const hint=document.getElementById('donHint'); const lang=document.documentElement.lang||'tr'; try{ await navigator.clipboard.writeText(iban); if(hint) hint.textContent=(I18N[lang]?.iban_copied)||'Copied'; }catch(e){ if(hint) hint.textContent=(I18N[lang]?.iban_copy_fail)||'Copy failed'; } }); }

    // ====== INIT ======
    (async function init(){
      // Ã–nizleme bandÄ±
      try{ const isPreview = new URLSearchParams(location.search).get('preview')==='1' || localStorage.getItem('samuder_preview_mode')==='1'; if(isPreview){ const bn=document.createElement('div'); bn.className='preview-banner'; bn.innerHTML='<span>Ã–NÄ°ZLEME MODU</span><button id="previewExit">Kapat</button>'; document.body.appendChild(bn); bn.style.display='flex'; document.getElementById('previewExit').addEventListener('click',()=>{ localStorage.removeItem('samuder_preview_mode'); localStorage.removeItem('samuder_preview_payload'); const url=new URL(location.href); url.searchParams.delete('preview'); location.href=url.toString(); }); } }catch{}

      const y=document.getElementById('year'); if(y) y.textContent=new Date().getFullYear();
      const savedLang=localStorage.getItem('samuder_lang')||'tr'; const select=document.getElementById('lang'); if(select) select.value=savedLang; applyTranslations(savedLang);
      const savedTheme=localStorage.getItem('samuder_theme')||(matchMedia('(prefers-color-scheme: light)').matches? 'light':'dark'); setTheme(savedTheme);
      document.getElementById('themeToggle')?.addEventListener('click', ()=>{ const cur=document.documentElement.getAttribute('data-theme')||'dark'; setTheme(cur==='dark'?'light':'dark'); });
      document.querySelectorAll('[data-route]').forEach(a=> a.addEventListener('click', (e)=>{ e.preventDefault(); navigate(a.getAttribute('data-route')); }));
      document.getElementById('menuToggle')?.addEventListener('click', ()=> toggleMenu(true)); document.getElementById('menuClose')?.addEventListener('click', ()=> toggleMenu(false));

      await loadAllContent();
      renderHomeNews(); renderDonation(); renderContact(); renderGallery(); renderAbout(); renderActivities();
      document.getElementById('calSearch')?.addEventListener('input', ()=> renderEvents(1));
      document.getElementById('calMonth')?.addEventListener('change', ()=> renderEvents(1));
      document.getElementById('newsSearch')?.addEventListener('input', ()=> renderNews(1));
      attachLightbox(); initCopyIBAN();
      const start=(location.hash.replace(/^#\//,'')||'home').split('?')[0]; showPage(start);
    })();
  </script>

  <!-- Netlify Identity (admin giriÅŸ) -->
  <script src="https://identity.netlify.com/v1/netlify-identity-widget.js"></script>
  <script> if (window.netlifyIdentity) { window.netlifyIdentity.on('init', user => { if (!user) window.netlifyIdentity.on('login', () => { document.location.href = '/admin/'; }); }); } </script>
  <div class="preview-banner" id="previewBanner" style="display:none"></div>
</body>
</html>

<!-- ===== FILE: netlify.toml ===== -->
[build]
  publish = "."

[[headers]]
  for = "/*"
  [headers.values]
    X-Frame-Options = "SAMEORIGIN"
    X-Content-Type-Options = "nosniff"
    Referrer-Policy = "strict-origin-when-cross-origin"
    Permissions-Policy = "camera=(), microphone=(), geolocation=()"
    Strict-Transport-Security = "max-age=63072000; includeSubDomains; preload"

[[headers]]
  for = "/content/*"
  [headers.values]
    Cache-Control = "public, max-age=60, must-revalidate"
t(iban); if(hint) hint.textContent=(I18N[lang]?.iban_copied)||'Copied'; }catch(e){ if(hint) hint.textContent=(I18N[lang]?.iban_copy_fail)||'Copy failed'; } }); }
  </script>
  <script>
    // ====== Uygulama (tema, dil, router) ======
    const RTL=new Set(["ar","fa"]); const THEME_KEY='samuder_theme'; const DEFAULT_PAGE='home';
    function applyTranslations(lang){ document.querySelectorAll('[data-i18n]').forEach(el=>{ const key=el.getAttribute('data-i18n'); if(I18N[lang] && I18N[lang][key]) el.textContent = I18N[lang][key]; }); document.querySelectorAll('[data-i18n-ph]').forEach(el=>{ const key=el.getAttribute('data-i18n-ph'); if(I18N[lang] && I18N[lang][key]) el.setAttribute('placeholder', I18N[lang][key]); }); const meta=document.querySelector('meta[data-i18n-meta="meta_description"]'); if(meta && I18N[lang]?.meta_description){ meta.setAttribute('content', I18N[lang].meta_description); } if(I18N[lang]?.site_title) document.title=I18N[lang].site_title; document.documentElement.setAttribute('dir', RTL.has(lang)?'rtl':'ltr'); document.documentElement.setAttribute('lang', lang); }
    function setLanguage(lang){ localStorage.setItem('samuder_lang', lang); applyTranslations(lang); renderAll(); }
    function setTheme(theme){ document.documentElement.setAttribute('data-theme', theme); localStorage.setItem(THEME_KEY, theme); const btn=document.getElementById('themeToggle'); if(btn){ const lang=document.documentElement.lang||'tr'; btn.textContent=theme==='light'?'â˜€ï¸':'ğŸŒ™'; btn.setAttribute('aria-label', theme==='light'?(I18N[lang]?.light_mode||'Light'):(I18N[lang]?.dark_mode||'Dark')); } document.querySelector('meta[name="theme-color"]').setAttribute('content', theme==='light'?'#ffffff':'#0b1220'); }
    function showPage(page){ document.querySelectorAll('[data-page]').forEach(sec=> sec.toggleAttribute('hidden', sec.getAttribute('data-page')!==page)); toggleMenu(false); const lang=document.documentElement.lang||'tr'; const titleKey=I18N[lang]?.[page]||page; document.title=`${I18N[lang]?.site_title||'SAMUDER'} â€“ ${titleKey}`; if(page==='news') renderNews(1); if(page==='calendar') renderEvents(1); }
    function navigate(page){ history.pushState({page}, '', `#/`+page); showPage(page); }
    window.addEventListener('popstate', ()=>{ const page=(location.hash.replace('#/','')||DEFAULT_PAGE); showPage(page); });
    function toggleMenu(open){ const panel=document.getElementById('menuPanel'); const btn=document.getElementById('menuToggle'); if(!panel||!btn) return; const willOpen=(typeof open==='boolean')?open:!panel.classList.contains('open'); panel.classList.toggle('open', willOpen); btn.setAttribute('aria-expanded', willOpen?'true':'false'); }

    function renderAll(){ renderHomeNews(); renderDonation(); renderContact(); renderGallery(); renderAbout(); renderActivities(); const page=(location.hash.replace('#/','')||DEFAULT_PAGE); if(page==='news') renderNews(1); if(page==='calendar') renderEvents(1); }

    (async function init(){ const y=document.getElementById('year'); if(y) y.textContent=new Date().getFullYear(); const savedLang=localStorage.getItem('samuder_lang')||'tr'; const select=document.getElementById('lang'); if(select) select.value=savedLang; applyTranslations(savedLang); const savedTheme=localStorage.getItem(THEME_KEY)||(matchMedia('(prefers-color-scheme: light)').matches? 'light':'dark'); setTheme(savedTheme); document.getElementById('themeToggle')?.addEventListener('click', ()=>{ const cur=document.documentElement.getAttribute('data-theme')||'dark'; setTheme(cur==='dark'?'light':'dark'); }); document.querySelectorAll('[data-route]').forEach(a=> a.addEventListener('click', (e)=>{ e.preventDefault(); navigate(a.getAttribute('data-route')); })); document.getElementById('menuToggle')?.addEventListener('click', ()=> toggleMenu()); document.getElementById('menuClose')?.addEventListener('click', ()=> toggleMenu(false)); const start=(location.hash.replace('#/','')||DEFAULT_PAGE); await loadAllContent(); showPage(start); renderAll(); document.getElementById('calSearch')?.addEventListener('input', ()=>{ renderEvents(1); renderNews(1); }); document.getElementById('calMonth')?.addEventListener('change', ()=> renderEvents(1)); attachLightbox(); })();
  </script>
    <script src="https://identity.netlify.com/v1/netlify-identity-widget.js"></script>
    <script>
      if (window.netlifyIdentity) {
        window.netlifyIde


<!-- ===== FILE: netlify.toml ===== -->
[build]
  publish = "."

# GÃ¼venlik baÅŸlÄ±klarÄ±
[[headers]]
  for = "/*"
  [headers.values]
    X-Frame-Options = "SAMEORIGIN"
    X-Content-Type-Options = "nosniff"
    Referrer-Policy = "strict-origin-when-cross-origin"
    Permissions-Policy = "camera=(), microphone=(), geolocation=()"
    Strict-Transport-Security = "max-age=63072000; includeSubDomains; preload"

# JSON iÃ§erikler iÃ§in kÄ±sa cache, gÃ¶rseller iÃ§in uzun cache
[[headers]]
  for = "/content/*"
  [headers.values]
    Cache-Control = "public, max-age=60, must-revalidate"

[[headers]]
  for = "/uploads/*"
  [headers.values]
    Cache-Control = "public, max-age=31536000, immutable"


<!-- ===== FILE: admin/index.html ===== -->
<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>SAMUDER â€“ Admin</title>
    <style>body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;padding:40px;max-width:880px;margin:auto} .muted{color:#555} .box{padding:16px;border:1px solid #ddd;border-radius:10px}</style>
  </head>
  <body>
    <h1>SAMUDER Ä°Ã§erik YÃ¶netimi</h1>
    <p class="muted">Paneli aÃ§mak iÃ§in bu dosyayÄ± <code>/admin/</code> klasÃ¶rÃ¼ne koymanÄ±z ve aynÄ± klasÃ¶rde <code>config.yml</code> olmasÄ± gerekir.</p>
    <div class="box"><p>Bu sayfa Decap CMS'i yÃ¼kler:</p><code>&lt;script src="https://unpkg.com/decap-cms@^3.0.0/dist/decap-cms.js"&gt;&lt;/script&gt;</code></div>
    <script src="https://unpkg.com/decap-cms@^3.0.0/dist/decap-cms.js"></script>
  </body>
</html>


<!-- ===== FILE: admin/config.yml ===== -->
backend:
  name: git-gateway
  branch: main
publish_mode: editorial_workflow
media_folder: "uploads"
public_folder: "/uploads"
collections:
  - name: "news"
    label: "Haberler / Duyurular"
    file: "content/news.json"
    format: json
    fields:
      - label: "Ã–ÄŸeler"
        name: "items"
        widget: list
        allow_add: true
        collapsed: true
        fields:
          - {label: "Tarih (ISO)", name: date, widget: datetime, format: "YYYY-MM-DD", time_format: false}
          - {label: "GÃ¶rsel", name: image, widget: image, required: false}
          - {label: "BaÅŸlÄ±k (TR)", name: title_tr, widget: string}
          - {label: "BaÅŸlÄ±k (EN)", name: title_en, widget: string, required: false}
          - {label: "BaÅŸlÄ±k (AR)", name: title_ar, widget: string, required: false}
          - {label: "BaÅŸlÄ±k (FA)", name: title_fa, widget: string, required: false}
          - {label: "BaÅŸlÄ±k (RU)", name: title_ru, widget: string, required: false}
          - {label: "Metin (TR)", name: body_tr, widget: text}
          - {label: "Metin (EN)", name: body_en, widget: text, required: false}
          - {label: "Metin (AR)", name: body_ar, widget: text, required: false}
          - {label: "Metin (FA)", name: body_fa, widget: text, required: false}
          - {label: "Metin (RU)", name: body_ru, widget: text, required: false}
  - name: "events"
    label: "Etkinlik Takvimi"
    file: "content/events.json"
    format: json
    fields:
      - label: "Ã–ÄŸeler"
        name: "items"
        widget: list
        allow_add: true
        collapsed: true
        fields:
          - {label: "Tarih (ISO)", name: date, widget: datetime, format: "YYYY-MM-DD", time_format: false}
          - {label: "GÃ¶rsel", name: image, widget: image, required: false}
          - {label: "BaÅŸlÄ±k (TR)", name: title_tr, widget: string}
          - {label: "BaÅŸlÄ±k (EN)", name: title_en, widget: string, required: false}
          - {label: "BaÅŸlÄ±k (AR)", name: title_ar, widget: string, required: false}
          - {label: "BaÅŸlÄ±k (FA)", name: title_fa, widget: string, required: false}
          - {label: "BaÅŸlÄ±k (RU)", name: title_ru, widget: string, required: false}
          - {label: "Metin (TR)", name: body_tr, widget: text}
          - {label: "Metin (EN)", name: body_en, widget: text, required: false}
          - {label: "Metin (AR)", name: body_ar, widget: text, required: false}
          - {label: "Metin (FA)", name: body_fa, widget: text, required: false}
          - {label: "Metin (RU)", name: body_ru, widget: text, required: false}
  - name: "gallery"
    label: "Galeri"
    file: "content/gallery.json"
